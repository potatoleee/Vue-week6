import{_ as m,m as f,R as h,r as i,o as a,c,d as r,b as t,F as l,h as L,w as P,t as d}from"./index-18410546.js";import{P as v}from"./PaginationComponent-abc7fc3d.js";import{c as T}from"./cartStore-2f69df46.js";const{VITE_APP_URL:k,VITE_APP_PATH:x}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/vue-week6/",MODE:"production",DEV:!1,PROD:!0},V={data(){return{productList:[],page:{},isLoading:!1}},methods:{getProductList(n=1){this.isLoading=!0,this.$http.get(`${k}/api/${x}/products/?page=${n}`).then(e=>{console.log(e.data),this.productList=e.data.products,this.page=e.data.pagination,console.log(this.page)}).catch(e=>{alert(e.data.message)}).finally(()=>{this.isLoading=!1})},...f(T,["addToCart"])},mounted(){this.getProductList()},components:{RouterLink:h,PaginationComponent:v}},C={class:"container"},y={class:"row justify-content-center"},A={class:"col-12 col-md-10"},E={class:"row gy-6"},R=["src"],b={class:"font-serifTc fs-6 fs-md-5 mb-4 text-center letterSpace-2"},w={class:"font-serifTc mb-4 text-center letterSpace-4"},I=["onClick"],$={class:"container d-flex justify-content-center"};function S(n,e,U,B,s,p){const u=i("VueLoading"),_=i("RouterLink"),g=i("PaginationComponent");return a(),c(l,null,[r(u,{active:s.isLoading,"onUpdate:active":e[0]||(e[0]=o=>s.isLoading=o)},null,8,["active"]),t("div",C,[t("div",y,[t("div",A,[t("ul",E,[(a(!0),c(l,null,L(s.productList,o=>(a(),c("li",{class:"col-6 col-lg-4 px-md-6 d-flex flex-column align-items-center",key:o.id},[r(_,{to:`/product/${o.id}`},{default:P(()=>[t("img",{class:"rounded-2 img-fluid",src:o.imageUrl,alt:""},null,8,R)]),_:2},1032,["to"]),t("h3",b,d(o.title),1),t("p",w," NT$ "+d(o.price),1),t("button",{type:"button",class:"btn btn-primary",onClick:D=>n.addToCart(o.id)}," 加入購物車 ",8,I)]))),128))])])])]),t("div",$,[r(g,{pageIn:s.page,getProductList:p.getProductList},null,8,["pageIn","getProductList"])])],64)}const H=m(V,[["render",S]]);export{H as default};
