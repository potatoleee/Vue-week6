import{_ as m,e as P,r,o as i,c as l,a as d,d as t,F as c,f,t as u,w as V,b as k}from"./index-f3a8e4bf.js";const{VITE_APP_URL:_,VITE_APP_PATH:p}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"week3dean",BASE_URL:"/vue-week6/",MODE:"production",DEV:!1,PROD:!0},b={data(){return{productList:[],isLoading:!1}},methods:{getProductList(){this.isLoading=!0,this.$http.get(`${_}/api/${p}/products/all`).then(o=>{console.log(o.data.products),this.productList=o.data.products}).catch(o=>{alert(o.data.message)}).finally(()=>{this.isLoading=!1})},addToCart(o){const s={product_id:o,qty:1};this.$http.post(`${_}/api/${p}/cart`,{data:s}).then(n=>{alert(n.data.message),console.log(n.data)})}},mounted(){this.getProductList()},components:{RouterLink:P}},T=["src"],v=["onClick"],y=t("tfoot",null,null,-1);function E(o,s,n,$,a,h){const L=r("VueLoading"),g=r("RouterLink");return i(),l(c,null,[d(L,{active:a.isLoading,"onUpdate:active":s[0]||(s[0]=e=>a.isLoading=e)},null,8,["active"]),t("table",null,[t("tbody",null,[(i(!0),l(c,null,f(a.productList,e=>(i(),l("tr",{key:e.id},[t("td",null,u(e.title),1),t("td",null,u(e.price),1),t("td",null,[t("img",{src:e.imageUrl,width:"200",alt:""},null,8,T)]),t("td",null,[d(g,{to:`/product/${e.id}`,class:"btn btn-outline-secondary"},{default:V(()=>[k("更多細節 ")]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-primary",onClick:A=>h.addToCart(e.id)}," 加入購物車 ",8,v)])]))),128))]),y])],64)}const w=m(b,[["render",E]]);export{w as default};
